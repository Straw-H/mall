(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-208498d8"],{"701b":function(t,e,o){},"76de":function(t,e,o){"use strict";var r=o("ece7"),a=o.n(r);a.a},"9bd0":function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,r){return o("div",{staticClass:"tab-control-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[o("span",[t._v(t._s(e))])])})),0)},a=[],n={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},c=n,s=(o("fa9e"),o("0c7c")),i=Object(s["a"])(c,r,a,!1,null,"628d25bd",null);e["a"]=i.exports},bb51:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"category"}},[o("nav-bar",[o("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),o("div",{staticClass:"content"},[o("category-side",{staticClass:"side-content",attrs:{category:t.category},on:{sideCategory:t.sideCategory}}),o("scroll",{ref:"scroll",staticClass:"subcategory-content",attrs:{"probe-type":3,data:[t.subcategory,t.categoryGoods]},on:{currentIndex:t.currentPosition}},[o("div",[o("category-item-info",{attrs:{subcategory:t.subcategory},on:{categoryImgLoad:t.categoryImgLoad}}),o("category-goods",{ref:"goods",attrs:{"category-goods":t.categoryGoods}})],1)])],1),o("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showBackTop,expression:"showBackTop"}],nativeOn:{click:function(e){return t.backTop(e)}}})],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("scroll",{attrs:{id:"side-scroll"}},[o("div",{staticClass:"category-side-list"},t._l(t.category,(function(e,r){return o("div",{staticClass:"side-list-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.sideItemClick(r)}}},[t._v(" "+t._s(e.title)+" ")])})),0)])},c=[],s=o("0183"),i={name:"CategorySide",components:{Scroll:s["a"]},props:{category:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{sideItemClick:function(t){this.currentIndex=t,this.$emit("sideCategory",t)}}},u=i,l=(o("76de"),o("0c7c")),d=Object(l["a"])(u,n,c,!1,null,"5f08dba2",null),g=d.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-item-info"},t._l(t.getSubcategory,(function(e){return o("div",{staticClass:"subcategory-item",on:{click:function(o){return t.itemClick(e)}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}],key:e.acm,attrs:{alt:""},on:{load:t.categoryImgLoad}}),o("div",{staticClass:"item-text"},[t._v(t._s(e.title))])])})),0)},f=[],b={name:"CategoryItemInfo",props:{subcategory:{type:Array,default:function(){return[]}}},computed:{getSubcategory:function(){return this.currentCount=0,this.subcategory}},data:function(){return{currentCount:0}},methods:{itemClick:function(t){this.$toast.show(t.title)},categoryImgLoad:function(){++this.currentCount===this.subcategory.length&&this.$emit("categoryImgLoad")}}},C=b,m=(o("e083"),Object(l["a"])(C,y,f,!1,null,"705efdec",null)),h=m.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-goods"},[o("tab-control",{ref:"tabControlIn",attrs:{titles:["综合","新品","销量"]},on:{tabClick:t.tabliClick}}),o("goods-list",{attrs:{goods:t.getCategoryGoods}})],1)},v=[],_=o("9bd0"),k=o("6d71"),I=o("fdd6"),w=o("eecb"),x={name:"CategoryGoods",props:{categoryGoods:{type:Object,default:function(){return{}}}},components:{TabControl:_["a"],GoodsList:k["a"],BackTop:I["a"]},mixins:[w["c"]],computed:{getCategoryGoods:function(){return this.categoryGoods[this.currentType]}}},G=x,T=Object(l["a"])(G,p,v,!1,null,"00eada3e",null),O=T.exports,S=o("a7ac"),$=o("1bab");function j(){return Object($["a"])({url:"/category"})}function L(t){return Object($["a"])({url:"/subcategory",params:{maitKey:t}})}function E(t,e){return Object($["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var B=o("b95e"),N={name:"Category",components:{CategorySide:g,CategoryItemInfo:h,CategoryGoods:O,NavBar:S["a"],Scroll:s["a"],BackTop:I["a"]},mixins:[w["a"],w["c"]],data:function(){return{category:[],subcategory:[],categoryGoods:{pop:[],sell:[],new:[]},currentCategory:0,showTabControllTop:0}},created:function(){this._getCategory()},methods:{categoryImgLoad:function(){this.showTabControllTop=this.$refs.goods.$el.offsetTop,console.log(this.showTabControllTop)},currentPosition:function(t){var e=t.y;this.listenShowBackTop(e),this.isTabFixed=e<-this.tabControllTop},sideCategory:function(t){this.currentCategory!==t&&(this.currentCategory=t,this._getSubCategory(),this._setCategoryGoods())},_setCategoryGoods:function(){this._getCategoryGoods(B["b"].POP),this._getCategoryGoods(B["b"].SELL),this._getCategoryGoods(B["b"].NEW)},_getCategory:function(){var t=this;j().then((function(e){var o=e.data;t.category=o.category.list,t._getSubCategory(),t._setCategoryGoods()}))},_getSubCategory:function(){var t=this,e=this.category[this.currentCategory].maitKey;L(e).then((function(e){t.subcategory=e.data.list}))},_getCategoryGoods:function(t){var e=this,o=this.category[this.currentCategory].miniWallkey;E(o,t).then((function(o){e.categoryGoods[t]=o}))}}},P=N,A=(o("c91e"),Object(l["a"])(P,r,a,!1,null,"4d8fa8e2",null));e["default"]=A.exports},bbe8:function(t,e,o){},c4eb:function(t,e,o){},c91e:function(t,e,o){"use strict";var r=o("701b"),a=o.n(r);a.a},e083:function(t,e,o){"use strict";var r=o("bbe8"),a=o.n(r);a.a},ece7:function(t,e,o){},fa9e:function(t,e,o){"use strict";var r=o("c4eb"),a=o.n(r);a.a}}]);
//# sourceMappingURL=chunk-208498d8.2a87ad3a.js.map